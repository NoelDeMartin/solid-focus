(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-228c3714"],{"1d8a":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DialogForm",{attrs:{dialog:t.dialog,title:t.title,"submit-label":t.submitLabel},on:{completed:t.submit},scopedSlots:t._u([t.list?{key:"secondary-actions",fn:function(){return[t.$ui.mobile?n("v-btn",{attrs:{flat:""},on:{click:t.remove}},[n("v-icon",{staticClass:"mr-1"},[t._v("delete")]),t._v("\n            Delete\n        ")],1):n("v-btn",{attrs:{title:"Delete list",flat:"",icon:""},on:{click:t.remove}},[n("v-icon",[t._v("delete")])],1)]},proxy:!0}:null],null,!0)},[n("v-text-field",{ref:"name",attrs:{rules:t.rules.name,label:"Name","validate-on-blur":"",autofocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)},r=[],a=n("a34a"),s=n.n(a),l=n("2b0e"),o=n("dfab"),u=n("ddbf"),c=n.n(u),f=n("a7cc"),d=n("2956"),m=n("594b"),p=n("80fb");function b(t){return g(t)||v(t)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function g(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function y(t,e,n,i,r,a,s){try{var l=t[a](s),o=l.value}catch(u){return void n(u)}l.done?e(o):Promise.resolve(o).then(i,r)}function k(t){return function(){var e=this,n=arguments;return new Promise(function(i,r){var a=t.apply(e,n);function s(t){y(a,i,r,s,l,"next",t)}function l(t){y(a,i,r,s,l,"throw",t)}s(void 0)})}}var w=l["default"].extend({components:{DialogForm:d["a"]},props:{dialog:{type:Object,required:!0},list:{type:Object,default:null}},data:function(){return{name:this.list?this.list.name:""}},computed:{title:function(){return this.list?'Edit "'.concat(this.list.name,'" list'):"Create workspace list"},submitLabel:function(){return this.list?"Update":"Create"},rules:function(){return{name:[p["a"].required,p["a"].maxLength(255)]}}},mounted:function(){this.$nextTick(this.$refs.name.focus)},methods:{submit:function(){var t={name:this.name};this.list?this.updateList(t,{name:this.list.name}):this.createList(t),this.$ui.completeDialog(this.dialog.id)},updateList:function(){var t=k(s.a.mark(function t(e,n){var i,r;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=new m["a"],t.prev=1,i.start(),t.next=5,this.list.update(e);case 5:i.complete(),t.next=12;break;case 8:for(r in t.prev=8,t.t0=t["catch"](1),i.fail(t.t0),n)this.list.setAttribute(r,n[r]);case 12:case"end":return t.stop()}},t,this,[[1,8]])}));function e(e,n){return t.apply(this,arguments)}return e}(),createList:function(){var t=k(s.a.mark(function t(e){var n,i,r,a,l,u;return s.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$workspaces.active,i=new f["default"](e),r=n.activeList,a=new m["a"],t.prev=4,a.start(),n.setRelationModels("lists",[].concat(b(n.lists),[i])),n.setActiveList(i),i.setRelationModels("tasks",[]),i.setRelationModels("workspace",n),t.next=12,i.save(n.url);case 12:if(c.a.engine instanceof o["SolidEngine"]){t.next=15;break}return t.next=15,n.update({resourceUrls:[].concat(b(n.resourceUrls),[i.url])});case 15:a.complete(),t.next=26;break;case 18:t.prev=18,t.t0=t["catch"](4),a.fail(t.t0),l=n.lists.indexOf(i),u=b(n.lists),u.splice(l,1),n.setActiveList(r),n.setRelationModels("lists",u);case 26:case"end":return t.stop()}},t,this,[[4,18]])}));function e(e){return t.apply(this,arguments)}return e}(),remove:function(){this.$ui.completeDialog(this.dialog.id),this.$ui.openDialog(function(){return n.e("chunk-2d0db283").then(n.bind(null,"6f52"))},{list:this.list})}}}),x=w,_=n("2877"),L=Object(_["a"])(x,i,r,!1,null,null,null);e["default"]=L.exports},2956:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DialogBase",{attrs:{dialog:t.dialog,title:t.title,fullscreen:t.$ui.mobile},scopedSlots:t._u([{key:"actions",fn:function(){return[t._t("secondary-actions"),t.$ui.mobile?t._e():[n("v-spacer"),n("v-btn",{attrs:{flat:""},on:{click:t.close}},[t._v("Close")]),n("v-btn",{attrs:{color:"primary",type:"submit"},on:{click:t.submit}},[t._v("\n                "+t._s(t.submitLabel)+"\n            ")])]]},proxy:!0},{key:"toolbar-actions",fn:function(){return[t.$ui.mobile?n("v-btn",{attrs:{dark:"",flat:"",small:""},on:{click:t.submit}},[t._v("\n            "+t._s(t.submitLabel)+"\n        ")]):t._e()]},proxy:!0}],null,!0)},[n("v-form",{ref:"form",staticClass:"p-4",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[t._t("default",null,{submit:t.submit})],2)],1)},r=[],a=n("2b0e"),s=n("53d6"),l=a["default"].extend({components:{DialogBase:s["a"]},props:{title:{type:String,default:null},dialog:{type:Object,required:!0},cancelLabel:{type:String,default:"Cancel"},submitLabel:{type:String,default:"Submit"}},methods:{close:function(){this.$ui.closeDialog(this.dialog.id)},submit:function(){this.$refs.form.validate()&&this.$emit("completed")}}}),o=l,u=n("2877"),c=Object(u["a"])(o,i,r,!1,null,null,null);e["a"]=c.exports},"80fb":function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function a(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}var s=function(){function t(){i(this,t)}return a(t,[{key:"minLength",value:function(t){return function(e){return e&&e.length>=t||"This field must be more than ".concat(t," characters long")}}},{key:"maxLength",value:function(t){return function(e){return e&&e.length<=t||"This field must be less than ".concat(t," characters long")}}},{key:"required",get:function(){return function(t){return!!t||"This field is required"}}}]),t}();e["a"]=new s}}]);
//# sourceMappingURL=chunk-228c3714.6f3e5267.js.map